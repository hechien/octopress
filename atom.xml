<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[赫謙小便籤]]></title>
  <link href="http://hechien.github.com/octopress/atom.xml" rel="self"/>
  <link href="http://hechien.github.com/octopress/"/>
  <updated>2012-05-10T11:42:07+08:00</updated>
  <id>http://hechien.github.com/octopress/</id>
  <author>
    <name><![CDATA[赫謙]]></name>
    <email><![CDATA[hechien@me.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Image Magick Resize 語法]]></title>
    <link href="http://hechien.github.com/octopress/blog/image-magick-resize-yu-fa/"/>
    <updated>2012-05-10T11:36:00+08:00</updated>
    <id>http://hechien.github.com/octopress/blog/image-magick-resize-yu-fa</id>
    <content type="html"><![CDATA[<p>因為現在透過Paperclip這邊有一點小問題，所以先做一下小記錄</p>

<h2>語法 |  說明</h2>

<p>scale%  | Height and width both scaled by specified percentage.
scale-x%xscale-y% | Height and width individually scaled by specified percentages. (Only one % symbol needed.)
width | Width given, height automagically selected to preserve aspect ratio.
xheight | Height given, width automagically selected to preserve aspect ratio.
widthxheight |  Maximum values of height and width given, aspect ratio preserved.
widthxheight^ | Minimum values of width and height given, aspect ratio preserved.
widthxheight! | Width and height emphatically given, original aspect ratio ignored.
widthxheight> | Shrinks images with dimension(s) larger than the corresponding width and/or height dimension(s).
widthxheight&lt; | Enlarges images with dimension(s) smaller than the corresponding width and/or height dimension(s).
area@ | Resize image to have specified area in pixels. Aspect ratio is preserved.</p>

<p>大致上就是這樣吧。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[OmniAuth + Devise + OpenID]]></title>
    <link href="http://hechien.github.com/octopress/blog/omniauth-plus-devise-plus-openid/"/>
    <updated>2012-05-08T11:46:00+08:00</updated>
    <id>http://hechien.github.com/octopress/blog/omniauth-plus-devise-plus-openid</id>
    <content type="html"><![CDATA[<p>最近內部討論結果覺得有可能需要Support Open ID的登入機制，因此就去survey了一下Devise擴展Open ID的方式。因為Devise本身支援OmniAuth，所以就直接以<code>Devise OmniAuth OpenID</code>的方式搜尋了一下，便找到這篇：<a href="http://blog.xdite.net/posts/2011/12/05/omniauth-clean-auth-provider-4/">http://blog.xdite.net/posts/2011/12/05/omniauth-clean-auth-provider-4/</a></p>

<p>其實這篇照做就可以了，只不過因為原始碼是從<a href="http://ruby-taiwan.org">http://ruby-taiwan.org</a>那邊來的，所以有一些code是不能用的 &#8230; 需要自己稍微做調整一下</p>

<p>這個實作版本是Rails 3.2.3、Devise 2.0.4、OmniAuth 1.0.3</p>

<p>裡面的Code在<code>omniauth_callbacks.rb</code>中第9行左右有個問題，User必須要用includes把authorizations給引入進來，不然會噴 &#8230; XD</p>

<p>可能是因為原本的Code用MongoID當做Data source的關係，所以原本的Code內並沒有寫includes這一塊吧 &#8230;</p>

<p>然後要記得在<code>user.rb</code>實作<code>bind_service</code>，不然原本的code去bind使用者的部份會有問題 &#8230;</p>

<p>要把<code>omniauth_callbacks.rb</code>放在<code>app/models/user</code>底下、把<code>omniauth_callbacks_controller.rb</code>放在<code>app/controllers/users</code>底下，總之在model的資料夾是<code>user</code>而controller的資料夾是<code>users</code>就對了。</p>

<p>大致上就這樣。</p>

<p>喔對，很重要的一點就是 &#8230; 現在網路上很多範例都會叫你去<code>config/initializers/omniauth.rb</code>內設定provider，這樣做的話一定會噴掉 &#8230; 我在這邊花很多時間才搞定囧，請記住，<strong>不必</strong>寫在這個地方！</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[MySQL啟動、執行出現errno 13的問題]]></title>
    <link href="http://hechien.github.com/octopress/blog/mysqlqi-dong-%2C-zhi-xing-chu-xian-errno-13de-wen-ti/"/>
    <updated>2012-05-05T16:16:00+08:00</updated>
    <id>http://hechien.github.com/octopress/blog/mysqlqi-dong-,-zhi-xing-chu-xian-errno-13de-wen-ti</id>
    <content type="html"><![CDATA[<p>剛剛朋友的MySQL Server忽然掛掉，沒辦法正常匯入 &#8230; 查了log後看到以下訊息：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>120505 12:08:27 mysqld_safe Starting mysqld daemon with databases from /var/lib/mysql
</span><span class='line'>120505 12:08:27  InnoDB: Initializing buffer pool, size = 8.0M
</span><span class='line'>120505 12:08:27  InnoDB: Completed initialization of buffer pool
</span><span class='line'>120505 12:08:27  InnoDB: Operating system error number 13 in a file operation.
</span><span class='line'>InnoDB: The error means mysqld does not have the access rights to
</span><span class='line'>InnoDB: the directory.
</span><span class='line'>InnoDB: File name ./ibdata1
</span><span class='line'>InnoDB: File operation call: 'open'.
</span><span class='line'>InnoDB: Cannot continue operation.
</span><span class='line'>120505 12:08:27 mysqld_safe mysqld from pid file /var/run/mysqld/mysqld.pid ended</span></code></pre></td></tr></table></div></figure>


<p>科科，炸了=_=</p>

<p>上網找了一下看到這篇<a href="http://stackoverflow.com/questions/3907666/mysql-wont-start-ibdata1-corrupt-operating-system-error-number-13-permis">Mysql won&#8217;t start - ibdata1 corrupt? - operating system error number 13 - permissions issue</a></p>

<p>讚，頭彩 &#8230; 馬上讀一下發現到這個指令： <code>perror 13</code>，輸入之後告訴我 Error code 13代表的是Permission denied，就覺得很奇怪 &#8230;</p>

<p>跳到 <code>/var/lib/mysql</code> (MySQL根目錄，資料檔都放在這底下) 後，下 <code>ls -l</code>發現某些檔案的權限亂掉 &#8230; 所以用 <code>chown -R mysql *</code>來修復權限，至少把owner改為<code>mysql</code>就可以了。</p>

<p>結束之後重新啟動，果然正常 &#8230; 開開心心匯入資料去</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[我沒有天份，只有努力]]></title>
    <link href="http://hechien.github.com/octopress/blog/wo-mei-you-tian-fen-%2Czhi-you-nu-li/"/>
    <updated>2012-05-02T23:16:00+08:00</updated>
    <id>http://hechien.github.com/octopress/blog/wo-mei-you-tian-fen-,zhi-you-nu-li</id>
    <content type="html"><![CDATA[<p>我對於規劃這種事情實在是不太在行</p>

<p>我也很會去評估自身能力，決定到底該不該做一些事情</p>

<p>但往往都會因為低估而退卻、高估而失敗</p>

<p>所以我對於估計這種事情也是不太在行</p>

<p>但我只知道一件事，那就是「現在不行，努力過後，以後可以」</p>

<p>我今天早上看到Mr. Jamie寫的文章，標題很有趣，就叫做「<a href="http://mrjamie.cc/2012/04/20/talent/">天份是什麼，能吃嗎？</a>」</p>

<p>我非常認同這篇文章，因為我自己就是過來人，但也有些許不認同這些文章 &#8230; 因為我也看過一句話：「成功是九十九分的努力，加上一分的天份；大家都在闡述那九十九分的努力有多重要，但卻忘記那一分的天份才是關鍵」。</p>

<p>每個人都有天份，但天份不能拿來當做任何事情的藉口 &#8230;</p>

<p>我曾經被某人嗆過，我有天份，但不要太囂張</p>

<p>何其無辜，我花了十年的時間學會的東西，被人家認為是有天份，真是可笑 &#8230;</p>

<p>記住，每個人都有天份，但關鍵點是在於努力</p>

<p>不是說每個人努力就能成功，但努力過後，你可以更接近機會，而只有機會才會帶領你邁向成功。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[SCSS小技巧：更結構化的寫margin、padding、font..etc]]></title>
    <link href="http://hechien.github.com/octopress/blog/scssxiao-ji-qiao-%3Ageng-jie-gou-hua-de-xie-margin%2C-padding%2C-font-dot-etc/"/>
    <updated>2012-05-02T17:08:00+08:00</updated>
    <id>http://hechien.github.com/octopress/blog/scssxiao-ji-qiao-:geng-jie-gou-hua-de-xie-margin,-padding,-font-dot-etc</id>
    <content type="html"><![CDATA[<p>之前忘記在哪邊看到一篇文章，裡面寫了一個SCSS(SASS)的小技巧，可是我當時沒有辦法把文章给加到閱讀列表中，只好憑印象來測，最後終於測出來了。</p>

<p>我們常常可能寫以下的CSS code</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='css'><span class='line'><span class="nt">margin-top</span><span class="o">:</span> <span class="nt">30px</span><span class="o">;</span>
</span><span class='line'><span class="nt">margin-right</span><span class="o">:</span> <span class="nt">10px</span><span class="o">;</span>
</span><span class='line'><span class="nt">font-size</span><span class="o">:</span> <span class="nt">24pt</span><span class="o">;</span>
</span><span class='line'><span class="nt">font-family</span><span class="o">:</span> <span class="nt">Arial</span><span class="o">;</span>
</span><span class='line'><span class="nt">padding-top</span><span class="o">:</span> <span class="nt">20px</span><span class="o">;</span>
</span><span class='line'><span class="nt">padding-right</span><span class="o">:</span> <span class="nt">15px</span><span class="o">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>但其實這樣寫挺雜亂的，有了SCSS我們就應該要放下屠刀立地成佛啊！(誤</p>

<p>請改成以下寫法(與上面做比對)：</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='scss'><span class='line'><span class="na">margin</span><span class="o">:</span><span class="p">{</span>
</span><span class='line'>  <span class="na">top</span><span class="o">:</span> <span class="mi">30</span><span class="kt">px</span><span class="p">;</span>
</span><span class='line'>  <span class="na">right</span><span class="o">:</span> <span class="mi">10</span><span class="kt">px</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="na">font</span><span class="o">:</span><span class="p">{</span>
</span><span class='line'>  <span class="na">size</span><span class="o">:</span> <span class="mi">24</span><span class="kt">pt</span><span class="p">;</span>
</span><span class='line'>  <span class="na">family</span><span class="o">:</span> <span class="n">Arial</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="na">padding</span><span class="o">:</span><span class="p">{</span>
</span><span class='line'>  <span class="na">top</span><span class="o">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
</span><span class='line'>  <span class="na">right</span><span class="o">:</span> <span class="mi">15</span><span class="kt">px</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>怎麼樣？是不是很簡潔整齊呢？</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[用CoffeeScript實作Array#list]]></title>
    <link href="http://hechien.github.com/octopress/blog/yong-coffeescriptshi-zuo-array-number-list/"/>
    <updated>2012-04-27T15:21:00+08:00</updated>
    <id>http://hechien.github.com/octopress/blog/yong-coffeescriptshi-zuo-array-number-list</id>
    <content type="html"><![CDATA[<p>在寫專案的過程當中想要操作Array，可是在JavaScript中沒有<code>[1, 2, 3].last()</code>這種東西可以用，只好自己擴充啦～</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='coffeescript'><span class='line'><span class="nb">Array</span><span class="o">::</span><span class="nv">last = </span><span class="o">-&gt;</span>
</span><span class='line'>  <span class="err">@</span><span class="p">[</span><span class="err">@</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>這樣就會回傳</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">last</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>  <span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>然後網路上的高見龍前輩在Slideshare的投影片 <a href="http://www.slideshare.net/aquarianboy/coffeescriptrubytuesday">http://www.slideshare.net/aquarianboy/coffeescriptrubytuesday</a> 中第160頁也有一些針對字串的擴充：</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='coffeescript'><span class='line'><span class="nb">String</span><span class="o">::</span><span class="nv">repeat = </span><span class="nf">(n) -&gt;</span> <span class="nb">Array</span><span class="p">(</span><span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">).</span><span class="nx">join</span> <span class="err">@</span>
</span><span class='line'><span class="nb">String</span><span class="o">::</span><span class="nv">downcase = </span><span class="o">-&gt;</span> <span class="nx">@toLowerCase</span><span class="p">()</span>
</span><span class='line'><span class="nb">String</span><span class="o">::</span><span class="nv">upcase = </span><span class="o">-&gt;</span> <span class="nx">@toUpperCase</span><span class="p">()</span>
</span><span class='line'><span class="nb">String</span><span class="o">::</span><span class="nv">find = </span><span class="nf">(str) -&gt;</span> <span class="nx">@indexOf</span> <span class="nx">str</span>
</span><span class='line'><span class="nb">String</span><span class="o">::</span><span class="nv">has = </span><span class="nf">(str) -&gt;</span> <span class="p">(</span><span class="nx">@indexOf</span> <span class="nx">str</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
</span></code></pre></td></tr></table></div></figure>


<p>其實蠻炫的XD</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[AppleScript for Numbers example]]></title>
    <link href="http://hechien.github.com/octopress/blog/applescript-for-numbers-example/"/>
    <updated>2012-04-25T11:12:00+08:00</updated>
    <id>http://hechien.github.com/octopress/blog/applescript-for-numbers-example</id>
    <content type="html"><![CDATA[<p>剛好想到Excel等Office的套裝軟體都有VBA可以用，那Mac上的iWork呢？</p>

<p>嗯 &#8230; 是的，就是超威的AppleScript來處理啦～</p>

<p>底下是找到的Example:</p>

<div><script src='https://gist.github.com/2485918.js?file='></script>
<noscript><pre><code>-- Source: https://discussions.apple.com/thread/1857867?start=0&amp;tstart=0

tell application &quot;Numbers&quot;
  activate
  tell document 1
    tell sheet 1
      set newtable to make new table with properties {name:&quot;Test Table 2&quot;}
      tell newtable
        set value of cell 3 of row 2 to count of rows
        set background color of cell 3 of row 2 to {0, 65535, 0} as RGB color
        remove row 1
        set myRange to range &quot;B1:C2&quot;
        
        repeat with i from 1 to count of rows
          set value of cell i of column 3 to i * 3
        end repeat
        
        set selection range to range &quot;a1:c3&quot;
      end tell
    end tell
  end tell
end tell</code></pre></noscript></div>


<p>其實真的蠻屌的 &#8230;</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[加上了Disqus留言系統囉]]></title>
    <link href="http://hechien.github.com/octopress/blog/jia-shang-liao-disqusliu-yan-xi-tong-luo/"/>
    <updated>2012-04-24T11:56:00+08:00</updated>
    <id>http://hechien.github.com/octopress/blog/jia-shang-liao-disqusliu-yan-xi-tong-luo</id>
    <content type="html"><![CDATA[<p>根據這篇<a href="http://whiteball.tw/blog/before-you-deploy-octopress/">在 Octopress 佈署出去前要注意的小地方</a>中所提到的幾點我有一一在調整，除了404還沒弄好跟導覽列的部份以外其他都加上去了。</p>

<p>所以現在我的RSS URL是Feedburner提供的、網址也不會有日期、Disqus也掛上了(而且好簡單喔！)、清單項目的縮排也弄好了 &#8230; octopress真的超好用的>///&lt;</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[RVM與cron]]></title>
    <link href="http://hechien.github.com/octopress/blog/rvmyu-cron/"/>
    <updated>2012-04-24T11:40:00+08:00</updated>
    <id>http://hechien.github.com/octopress/blog/rvmyu-cron</id>
    <content type="html"><![CDATA[<p>今天發生了一件事情，crontab設定的task不能正常的跑Ruby script，檢查一下原以為是Path的問題，不管怎樣設定Path都會沒辦法正常的load rubygems，後來找了一下後發現原來官方就有<a href="http://beginrescueend.com/integration/cron/">教學</a>了 &#8230;</p>

<p>總之，把cron內加上rvm ruby的路徑就可以了</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ruby Load Path設定]]></title>
    <link href="http://hechien.github.com/octopress/blog/ruby-load-pathshe-ding/"/>
    <updated>2012-04-24T11:33:00+08:00</updated>
    <id>http://hechien.github.com/octopress/blog/ruby-load-pathshe-ding</id>
    <content type="html"><![CDATA[

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1">#!/usr/bin/env ruby</span>
</span><span class='line'><span class="c1">#encoding: utf-8</span>
</span><span class='line'><span class="vg">$LOAD_PATH</span> <span class="o">&lt;&lt;</span> <span class="s1">&#39;.&#39;</span>
</span><span class='line'><span class="nb">require</span> <span class="s1">&#39;kdan_mobile&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>以上</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[node.js寫TCP Socket Server]]></title>
    <link href="http://hechien.github.com/octopress/blog/node-dot-jsxie-tcp-socket-server/"/>
    <updated>2012-04-24T09:40:00+08:00</updated>
    <id>http://hechien.github.com/octopress/blog/node-dot-jsxie-tcp-socket-server</id>
    <content type="html"><![CDATA[<p>最近正苦惱著要怎樣加快API的回應速度，後來把腦筋動到一般的Socket上，打算直接寫個Socket Server負責回應API Request &#8230; 我看人家<a href="http://www.inside.com.tw/2012/01/10/group-chatting">Whatsapp用Erlang搞定兩百二十萬條的連線數</a>，但是我不會寫Erlang啊！</p>

<p>所以只好先把腦筋動到node.js上面，然後稍微Google了一下後便寫出了底下的東西 &#8230;</p>

<!-- more -->


<p>https://gist.github.com/2470084</p>

<p>參考資料都在裡面，真的感覺node.js很棒啊 &#8230;</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Rails打索引技巧]]></title>
    <link href="http://hechien.github.com/octopress/blog/railsda-suo-yin-ji-qiao/"/>
    <updated>2012-04-24T09:36:00+08:00</updated>
    <id>http://hechien.github.com/octopress/blog/railsda-suo-yin-ji-qiao</id>
    <content type="html"><![CDATA[<p>做專案學到的一個技巧 &#8230; 應該說，是很慘痛的學到一個技巧=_= &#8230;</p>

<p>我們都知道，Rails可以透過<code>rails g migration blahblah</code>來產生Migration file然後在裡面寫<code>add_index</code>來打索引，可是切記切記！！不要把索引寫在同一個表內 &#8230; 當資料量大，而且其中一個index打失敗你就會哭了 &#8230;</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Mysql2::Error: Specified key was too long; max key length is 1000 bytes: CREATE  INDEX `index_products_on_url_identify_and_name` ON `products` (`url_identify`, `name`)</span></code></pre></td></tr></table></div></figure>


<p>慘痛T_T</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Middleman + Pow + Livereload + HAML]]></title>
    <link href="http://hechien.github.com/octopress/blog/middleman-plus-pow-plus-livereload-plus-haml/"/>
    <updated>2012-04-12T15:14:00+08:00</updated>
    <id>http://hechien.github.com/octopress/blog/middleman-plus-pow-plus-livereload-plus-haml</id>
    <content type="html"><![CDATA[<p>原本今天要教同事怎樣寫HAML &amp; SCSS的，後來覺得HAML還要自己手動轉實在太麻煩，所以就講Middleman + guard-livereload了。</p>

<!-- more -->


<p>首先要先安裝middleman：<code>gem i middleman</code></p>

<p>安裝好之後建立Project：</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>mkdir ~/Documents/playgroud/middleman
</span><span class='line'><span class="nb">cd</span> ~/Documents/playground/middleman
</span><span class='line'>middleman init . --bundler --rack
</span></code></pre></td></tr></table></div></figure>


<p>在Gemfile中加入：</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">gem</span> <span class="s1">&#39;guard-livereload&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>執行<code>bundle install</code>後，透過<code>bundle exec guard init livereload</code>產生Guardfile，然後修改Guardfile</p>

<figure class='code'><figcaption><span>Guardfile </span><a href='https://gist.github.com/1221542'>link</a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># More info at https://github.com/guard/guard#readme</span>
</span><span class='line'><span class="c1"># XDite&#39;s guardflie: https://gist.github.com/1221542</span>
</span><span class='line'>
</span><span class='line'><span class="n">guard</span> <span class="s1">&#39;livereload&#39;</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">watch</span><span class="p">(</span><span class="sr">%r{source/.+\.(erb|haml|md)}</span><span class="p">)</span>
</span><span class='line'>  <span class="n">watch</span><span class="p">(</span><span class="sr">%r{source/helpers/.+\.rb}</span><span class="p">)</span>
</span><span class='line'>  <span class="n">watch</span><span class="p">(</span><span class="sr">%r{(public/|source/assets).+\.(css|js|html)}</span><span class="p">)</span>
</span><span class='line'>  <span class="n">watch</span><span class="p">(</span><span class="sr">%r{(source/.+\.css)\.s[ac]ss}</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span><span class="n">m</span><span class="o">|</span> <span class="n">m</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="p">}</span>
</span><span class='line'>  <span class="n">watch</span><span class="p">(</span><span class="sr">%r{(source/.+\.js)\.coffee}</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span><span class="n">m</span><span class="o">|</span> <span class="n">m</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="p">}</span>
</span><span class='line'>  <span class="n">watch</span><span class="p">(</span><span class="sr">%r{config/locales/.+\.yml}</span><span class="p">)</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>修改好後存檔離開，執行 <code>bundle exec guard</code></p>

<p>安裝powder： <code>gem i powder</code></p>

<p>如果沒有安裝pow的話就：<code>powder install</code></p>

<p>然後建立好Link：<code>powder link</code>，這樣應該會建立<code>http://middleman.dev</code>的網址給你使用</p>

<p>安裝瀏覽器外掛(Chrome)： <a href="https://chrome.google.com/webstore/detail/jnihajbhpnppcggbcgedagnkighmdlei">https://chrome.google.com/webstore/detail/jnihajbhpnppcggbcgedagnkighmdlei</a></p>

<p>一切就緒後，瀏覽器上應該會出現一個 LR 的圖示，按下去吧 &#8230;</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[被Media Queries婊了一下]]></title>
    <link href="http://hechien.github.com/octopress/blog/bei-media-queriesbiao-liao-%5B%3F%5D-xia/"/>
    <updated>2012-04-05T18:28:00+08:00</updated>
    <id>http://hechien.github.com/octopress/blog/bei-media-queriesbiao-liao-[?]-xia</id>
    <content type="html"><![CDATA[<p>清明前一天，行銷同事告訴我某專案網站無法用IE 8開啟，到清明後一天才開始修正。一開始，找了老半天就是找不到任何錯誤，想說會不會是HTML 5的不支援問題導致的，可是開其他專案網站卻又都正常，後來發現到CSS中有用到Media Queries的部分，所以我拿掉之後IE 8就可以用了！</p>

<p>特此記錄一下T<sup>T&#8221;</sup></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Paperclip的default_url style]]></title>
    <link href="http://hechien.github.com/octopress/blog/paperclipde-default-url-style/"/>
    <updated>2012-03-29T15:59:00+08:00</updated>
    <id>http://hechien.github.com/octopress/blog/paperclipde-default-url-style</id>
    <content type="html"><![CDATA[<p>用Paperclip的話一定會有用到特定尺寸的，可是當特定尺寸沒有上傳圖片的話要顯示特定尺寸的預設圖片該怎麼搞？</p>

<p>嗯，我現在有三種尺寸：<code>large, medium, thumb</code>，但我只要在<code>default_url</code>設定時加上<code>:style</code>就好，例如：</p>

<p><code>has_attached_file :image, {styles: {large: "", medium: "", thumb: ""}, default_url: "/path/to/missing/image/missing_:style.jpg"}</code></p>

<p>如此一來，如果<code>medium</code>沒有東西的話，它會自動帶出<code>missing_medium.jpg</code>來。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Nginx Tunning]]></title>
    <link href="http://hechien.github.com/octopress/blog/nginx-tunning/"/>
    <updated>2012-03-28T15:32:00+08:00</updated>
    <id>http://hechien.github.com/octopress/blog/nginx-tunning</id>
    <content type="html"><![CDATA[<p>準備讓公司的系統上線了，在調整Nginx的效能 &#8230;</p>

<p>參考這篇 <a href="http://v1nc3ntlaw.github.com/rubyconf-tw-2011-rails-sa/#13">http://v1nc3ntlaw.github.com/rubyconf-tw-2011-rails-sa/#13</a> 然後看了一下，看到<code>worker_processes 16;</code>感覺好像太高，畢竟我們公司的Server才1G RAM &#8230; 怕直接死掉XD</p>

<p>不過<code>nofile</code>的值我是設定<code>32768</code>，然後根據這篇 <a href="http://www.cnblogs.com/skyaspnet/archive/2010/09/02/1815749.html">http://www.cnblogs.com/skyaspnet/archive/2010/09/02/1815749.html</a> 設定了 <code>fs.file-max</code> 的值到<code>2390251</code></p>

<p><code>worker_connections</code>的部份則是參考這篇 <a href="http://hi.baidu.com/ugo5/blog/item/f4fb6037322059aed1a2d31b.html">http://hi.baidu.com/ugo5/blog/item/f4fb6037322059aed1a2d31b.html</a></p>

<p>不過若是可以，這篇也要參考一下 <a href="http://sudone.com/nginx/nginx_worker_processes.html">http://sudone.com/nginx/nginx_worker_processes.html</a></p>

<p>最大連接數的計算公式是：<code>worker_processes * worker_connections / 4</code>，而worker_connections最好超過9000的話，我是直接上到10240，所以我的設定檔大概長這樣：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>worker_processes 8;
</span><span class='line'>worker_rlimit_nofile 32768;
</span><span class='line'>
</span><span class='line'>events {
</span><span class='line'>  worker_connections 10240;
</span><span class='line'>  use epoll;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>上網查了一下，<code>epoll</code>似乎是Linux 2.6核心加入的功能，效能似乎不錯便加上去了。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Rails Best Practice 與 Refactor]]></title>
    <link href="http://hechien.github.com/octopress/blog/rails-best-practice-yu-refactor/"/>
    <updated>2012-03-23T16:17:00+08:00</updated>
    <id>http://hechien.github.com/octopress/blog/rails-best-practice-yu-refactor</id>
    <content type="html"><![CDATA[<p><code>rails_best_practices</code>是一個很不錯的Gem套件，它匯集了一些調整Rails Performace的小技巧，並且透過指令 <code>bundle exec rails_best_practice .</code>的方式就能夠列出你的問題，跳轉可以看到我噴了哪些東西XD</p>

<p>可以透過<code>gem rails_best_practices</code>來安裝，官方網站在 <a href="https://github.com/railsbp/rails_best_practices">https://github.com/railsbp/rails_best_practices</a></p>

<p>之後再慢慢列出解決的方式，這時真的發現有Git真好:P</p>

<!-- more -->




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
<span class='line-number'>163</span>
<span class='line-number'>164</span>
<span class='line-number'>165</span>
<span class='line-number'>166</span>
<span class='line-number'>167</span>
<span class='line-number'>168</span>
<span class='line-number'>169</span>
<span class='line-number'>170</span>
<span class='line-number'>171</span>
<span class='line-number'>172</span>
<span class='line-number'>173</span>
<span class='line-number'>174</span>
<span class='line-number'>175</span>
<span class='line-number'>176</span>
<span class='line-number'>177</span>
<span class='line-number'>178</span>
<span class='line-number'>179</span>
<span class='line-number'>180</span>
<span class='line-number'>181</span>
<span class='line-number'>182</span>
<span class='line-number'>183</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>./app/controllers/rainbow_seed/shares_controller.rb:103 - use model association (for like)
</span><span class='line'>./app/controllers/comments_controller.rb:18 - move model logic into model (@comment use_count > 4)
</span><span class='line'>./app/controllers/pocket_snapper/users_controller.rb:52 - move model logic into model (@user use_count > 4)
</span><span class='line'>./app/controllers/rainbow_seed/comments_controller.rb:18 - move model logic into model (@comment use_count > 4)
</span><span class='line'>./app/controllers/rainbow_seed/comments_controller.rb:18 - move model logic into model (format use_count > 4)
</span><span class='line'>./app/controllers/users_controller.rb:52 - move model logic into model (@user use_count > 4)
</span><span class='line'>./db/schema.rb:30 - always add db index (comments => [commentable_id, commentable_type])
</span><span class='line'>./app/controllers/rainbow_seed/news_controller.rb:18,39,61,77 - use before_filter for show,edit,update,destroy
</span><span class='line'>./app/views/comments/_form.html.erb:1 - replace instance variable with local variable
</span><span class='line'>./app/views/comments/_form.html.erb:2 - replace instance variable with local variable
</span><span class='line'>./app/views/comments/_form.html.erb:4 - replace instance variable with local variable
</span><span class='line'>./app/views/comments/_form.html.erb:7 - replace instance variable with local variable
</span><span class='line'>./app/views/rainbow_seed/news/_form.html.erb:1 - replace instance variable with local variable
</span><span class='line'>./app/views/rainbow_seed/news/_form.html.erb:3 - replace instance variable with local variable
</span><span class='line'>./app/views/rainbow_seed/news/_form.html.erb:6 - replace instance variable with local variable
</span><span class='line'>./app/views/rainbow_seed/news/_news_item.html.erb:8 - replace instance variable with local variable
</span><span class='line'>./app/views/rainbow_seed/shares/_form.html.erb:1 - replace instance variable with local variable
</span><span class='line'>./app/views/rainbow_seed/shares/_form.html.erb:2 - replace instance variable with local variable
</span><span class='line'>./app/views/rainbow_seed/shares/_form.html.erb:4 - replace instance variable with local variable
</span><span class='line'>./app/views/rainbow_seed/shares/_form.html.erb:7 - replace instance variable with local variable
</span><span class='line'>./app/views/rainbow_seed/shares/_form.html.erb:20 - replace instance variable with local variable
</span><span class='line'>./app/views/shares/_form.html.erb:1 - replace instance variable with local variable
</span><span class='line'>./app/views/shares/_form.html.erb:2 - replace instance variable with local variable
</span><span class='line'>./app/views/shares/_form.html.erb:4 - replace instance variable with local variable
</span><span class='line'>./app/views/shares/_form.html.erb:7 - replace instance variable with local variable
</span><span class='line'>./app/views/users/_form.html.erb:1 - replace instance variable with local variable
</span><span class='line'>./app/views/users/_form.html.erb:2 - replace instance variable with local variable
</span><span class='line'>./app/views/users/_form.html.erb:4 - replace instance variable with local variable
</span><span class='line'>./app/views/users/_form.html.erb:7 - replace instance variable with local variable
</span><span class='line'>./app/mailers/user_mailer.rb:9 - use multipart/alternative as content_type of email
</span><span class='line'>./app/mailers/user_mailer.rb:15 - use multipart/alternative as content_type of email
</span><span class='line'>./app/views/rainbow_seed/news/edit.html.erb:4 - simplify render in views
</span><span class='line'>./app/views/rainbow_seed/news/index.html.erb:8 - simplify render in views
</span><span class='line'>./app/views/rainbow_seed/news/new.html.erb:4 - simplify render in views
</span><span class='line'>./app/views/rainbow_seed/shares/list.html.erb:11 - simplify render in views
</span><span class='line'>./app/views/rainbow_seed/shares/show.html.erb:22 - simplify render in views
</span><span class='line'>./app/views/shares/show.html.erb:23 - simplify render in views
</span><span class='line'>./app/controllers/comments_controller.rb:27 - simplify render in controllers
</span><span class='line'>./app/controllers/pocket_snapper/users_controller.rb:62 - simplify render in controllers
</span><span class='line'>./app/controllers/pocket_snapper/users_controller.rb:86 - simplify render in controllers
</span><span class='line'>./app/controllers/rainbow_seed/comments_controller.rb:28 - simplify render in controllers
</span><span class='line'>./app/controllers/rainbow_seed/comments_controller.rb:29 - simplify render in controllers
</span><span class='line'>./app/controllers/rainbow_seed/news_controller.rb:53 - simplify render in controllers
</span><span class='line'>./app/controllers/rainbow_seed/news_controller.rb:69 - simplify render in controllers
</span><span class='line'>./app/controllers/rainbow_seed/registrations_controller.rb:19 - simplify render in controllers
</span><span class='line'>./app/controllers/rainbow_seed/shares_controller.rb:71 - simplify render in controllers
</span><span class='line'>./app/controllers/rainbow_seed/shares_controller.rb:86 - simplify render in controllers
</span><span class='line'>./app/controllers/users_controller.rb:62 - simplify render in controllers
</span><span class='line'>./app/controllers/users_controller.rb:86 - simplify render in controllers
</span><span class='line'>./app/helpers/comments_helper.rb:1 - remove empty helpers
</span><span class='line'>./app/helpers/home_helper.rb:1 - remove empty helpers
</span><span class='line'>./app/helpers/rainbow_seed/green_mates_helper.rb:1 - remove empty helpers
</span><span class='line'>./app/helpers/rainbow_seed/more_green/carbon_footprint_helper.rb:1 - remove empty helpers
</span><span class='line'>./app/helpers/rainbow_seed/more_green/green_tip_helper.rb:1 - remove empty helpers
</span><span class='line'>./app/helpers/rainbow_seed/more_green/invitation_cards_helper.rb:1 - remove empty helpers
</span><span class='line'>./app/helpers/rainbow_seed/more_green/wall_paper_helper.rb:1 - remove empty helpers
</span><span class='line'>./app/helpers/rainbow_seed/top5_helper.rb:1 - remove empty helpers
</span><span class='line'>./app/helpers/sessions_helper.rb:1 - remove empty helpers
</span><span class='line'>./app/helpers/users_helper.rb:1 - remove empty helpers
</span><span class='line'>./config/routes.rb:62 - restrict auto-generated routes (:only => [:show, :edit, :update, :index])
</span><span class='line'>./config/routes.rb:67 - restrict auto-generated routes (:only => [:create, :index])
</span><span class='line'>./config/routes.rb:73 - restrict auto-generated routes (:only => [:create, :index])
</span><span class='line'>./app/models/ckeditor/attachment_file.rb:9 - remove unused methods (Ckeditor::AttachmentFile#url_thumb)
</span><span class='line'>./app/models/ckeditor/picture.rb:10 - remove unused methods (Ckeditor::Picture#url_content)
</span><span class='line'>./app/models/rainbow_seed/share.rb:56 - remove unused methods (RainbowSeed::Share#popular_in_date)
</span><span class='line'>./app/models/rainbow_seed/share.rb:71 - remove unused methods (RainbowSeed::Share#image_url)
</span><span class='line'>./app/models/rainbow_seed/share.rb:75 - remove unused methods (RainbowSeed::Share#comments_count)
</span><span class='line'>./app/controllers/application_controller.rb:5 - remove unused methods (ApplicationController#devise_layout)
</span><span class='line'>./app/controllers/pocket_snapper/confirmations_controller.rb:7 - remove unused methods (PocketSnapper::ConfirmationsController#after_confirmation_path_for)
</span><span class='line'>./app/controllers/pocket_snapper/passwords_controller.rb:10 - remove unused methods (PocketSnapper::PasswordsController#after_sending_reset_password_instructions_path_for)
</span><span class='line'>./app/controllers/pocket_snapper/registrations_controller.rb:5 - remove unused methods (PocketSnapper::RegistrationsController#after_inactive_sign_up_path_for)
</span><span class='line'>./app/controllers/pocket_snapper/users_controller.rb:130 - remove unused methods (PocketSnapper::UsersController#find_user)
</span><span class='line'>./app/controllers/pocket_snapper_controller.rb:10 - remove unused methods (PocketSnapperController#resend_password)
</span><span class='line'>./app/controllers/rainbow_seed/confirmations_controller.rb:6 - remove unused methods (RainbowSeed::ConfirmationsController#after_confirmation_path_for)
</span><span class='line'>./app/controllers/rainbow_seed/passwords_controller.rb:15 - remove unused methods (RainbowSeed::PasswordsController#after_sending_reset_password_instructions_path_for)
</span><span class='line'>./app/controllers/rainbow_seed/users_controller.rb:54 - remove unused methods (RainbowSeed::UsersController#update_password)
</span><span class='line'>./app/controllers/users_controller.rb:130 - remove unused methods (UsersController#find_user)
</span><span class='line'>./app/models/ckeditor/asset.rb:1 - protect mass assignment
</span><span class='line'>./app/models/ckeditor/attachment_file.rb:1 - protect mass assignment
</span><span class='line'>./app/models/ckeditor/picture.rb:1 - protect mass assignment
</span><span class='line'>./app/models/comment.rb:1 - protect mass assignment
</span><span class='line'>./app/models/news.rb:1 - protect mass assignment
</span><span class='line'>./app/models/pocket_snapper/point.rb:1 - protect mass assignment
</span><span class='line'>./app/models/rainbow_seed/data.rb:1 - protect mass assignment
</span><span class='line'>./app/models/rainbow_seed/share/history.rb:1 - protect mass assignment
</span><span class='line'>./app/models/rainbow_seed/share/like.rb:1 - protect mass assignment
</span><span class='line'>./app/models/rainbow_seed/share.rb:1 - protect mass assignment
</span><span class='line'>./app/models/setting.rb:1 - protect mass assignment
</span><span class='line'>./app/models/share_comment.rb:1 - protect mass assignment
</span><span class='line'>./app/models/user_observer.rb:1 - protect mass assignment
</span><span class='line'>./app/models/ckeditor/attachment_file.rb:5 - remove trailing whitespace
</span><span class='line'>./app/models/comment.rb:4 - remove trailing whitespace
</span><span class='line'>./app/models/news.rb:2 - remove trailing whitespace
</span><span class='line'>./app/models/rainbow_seed/data.rb:3 - remove trailing whitespace
</span><span class='line'>./app/models/rainbow_seed/share.rb:7 - remove trailing whitespace
</span><span class='line'>./app/models/setting.rb:2 - remove trailing whitespace
</span><span class='line'>./app/models/user.rb:6 - remove trailing whitespace
</span><span class='line'>./app/models/user_observer.rb:2 - remove trailing whitespace
</span><span class='line'>./app/mailers/user_mailer.rb:19 - remove trailing whitespace
</span><span class='line'>./app/helpers/rainbow_seed/more_green_helper.rb:8 - remove trailing whitespace
</span><span class='line'>./app/helpers/rainbow_seed/users_helper.rb:7 - remove trailing whitespace
</span><span class='line'>./app/helpers/rainbow_seed_helper.rb:2 - remove trailing whitespace
</span><span class='line'>./app/helpers/shares_helper.rb:2 - remove trailing whitespace
</span><span class='line'>./app/controllers/application_controller.rb:4 - remove trailing whitespace
</span><span class='line'>./app/controllers/comments_controller.rb:2 - remove trailing whitespace
</span><span class='line'>./app/controllers/pocket_snapper/confirmations_controller.rb:2 - remove trailing whitespace
</span><span class='line'>./app/controllers/pocket_snapper/passwords_controller.rb:2 - remove trailing whitespace
</span><span class='line'>./app/controllers/pocket_snapper/registrations_controller.rb:2 - remove trailing whitespace
</span><span class='line'>./app/controllers/pocket_snapper/sessions_controller.rb:2 - remove trailing whitespace
</span><span class='line'>./app/controllers/pocket_snapper/users_controller.rb:4 - remove trailing whitespace
</span><span class='line'>./app/controllers/pocket_snapper_controller.rb:3 - remove trailing whitespace
</span><span class='line'>./app/controllers/rainbow_seed/comments_controller.rb:2 - remove trailing whitespace
</span><span class='line'>./app/controllers/rainbow_seed/confirmations_controller.rb:3 - remove trailing whitespace
</span><span class='line'>./app/controllers/rainbow_seed/home_controller.rb:11 - remove trailing whitespace
</span><span class='line'>./app/controllers/rainbow_seed/more_green_controller.rb:3 - remove trailing whitespace
</span><span class='line'>./app/controllers/rainbow_seed/passwords_controller.rb:3 - remove trailing whitespace
</span><span class='line'>./app/controllers/rainbow_seed/registrations_controller.rb:3 - remove trailing whitespace
</span><span class='line'>./app/controllers/rainbow_seed/sessions_controller.rb:3 - remove trailing whitespace
</span><span class='line'>./app/controllers/rainbow_seed/shares_controller.rb:6 - remove trailing whitespace
</span><span class='line'>./app/controllers/rainbow_seed/top5_controller.rb:6 - remove trailing whitespace
</span><span class='line'>./app/controllers/rainbow_seed/users_controller.rb:2 - remove trailing whitespace
</span><span class='line'>./app/controllers/rainbow_seed_controller.rb:2 - remove trailing whitespace
</span><span class='line'>./app/controllers/users_controller.rb:4 - remove trailing whitespace
</span><span class='line'>./config/deploy.rb:39 - remove trailing whitespace
</span><span class='line'>./config/environments/development.rb:17 - remove trailing whitespace
</span><span class='line'>./config/environments/production.rb:60 - remove trailing whitespace
</span><span class='line'>./config/routes.rb:2 - remove trailing whitespace
</span><span class='line'>./db/migrate/20120118031257_create_users.rb:16 - remove trailing whitespace
</span><span class='line'>./db/migrate/20120119070509_create_comments.rb:13 - remove trailing whitespace
</span><span class='line'>./db/migrate/20120204094252_create_settings.rb:10 - remove trailing whitespace
</span><span class='line'>./db/migrate/20120307173052_create_ckeditor_assets.rb:7 - remove trailing whitespace
</span><span class='line'>./db/migrate/20120309092459_create_rainbow_seed_share_likes.rb:11 - remove trailing whitespace
</span><span class='line'>./lib/custom_authentication_failure.rb:1 - remove trailing whitespace
</span><span class='line'>./app/views/comments/_form.html.erb:13 - remove trailing whitespace
</span><span class='line'>./app/views/layouts/rainbow_seed.html.erb:10 - remove trailing whitespace
</span><span class='line'>./app/views/pocket_snapper/passwords/new.html.erb:3 - remove trailing whitespace
</span><span class='line'>./app/views/pocket_snapper/registrations/new.html.erb:4 - remove trailing whitespace
</span><span class='line'>./app/views/pocket_snapper/resend_password.html.erb:4 - remove trailing whitespace
</span><span class='line'>./app/views/pocket_snapper/sessions/new.html.erb:5 - remove trailing whitespace
</span><span class='line'>./app/views/pocket_snapper/signed_up_successful.html.erb:4 - remove trailing whitespace
</span><span class='line'>./app/views/pocket_snapper/thanks.html.erb:4 - remove trailing whitespace
</span><span class='line'>./app/views/pocket_snapper/users/passwords/new.html.erb:17 - remove trailing whitespace
</span><span class='line'>./app/views/pocket_snapper/users/registrations/new.html.erb:5 - remove trailing whitespace
</span><span class='line'>./app/views/pocket_snapper/users/sessions/new.html.erb:5 - remove trailing whitespace
</span><span class='line'>./app/views/rainbow_seed/green_mates/index.html.erb:3 - remove trailing whitespace
</span><span class='line'>./app/views/rainbow_seed/home/about.html.erb:7 - remove trailing whitespace
</span><span class='line'>./app/views/rainbow_seed/home/contact.html.erb:10 - remove trailing whitespace
</span><span class='line'>./app/views/rainbow_seed/home/index.html.erb:75 - remove trailing whitespace
</span><span class='line'>./app/views/rainbow_seed/more_green/green_tips.html.erb:8 - remove trailing whitespace
</span><span class='line'>./app/views/rainbow_seed/more_green/invitation_cards/card_mailer/content.html.erb:7 - remove trailing whitespace
</span><span class='line'>./app/views/rainbow_seed/more_green/show_invitation_cards_info_form.html.erb:17 - remove trailing whitespace
</span><span class='line'>./app/views/rainbow_seed/shares/_comments_list.html.erb:3 - remove trailing whitespace
</span><span class='line'>./app/views/rainbow_seed/shares/index.html.erb:21 - remove trailing whitespace
</span><span class='line'>./app/views/rainbow_seed/shares/show.html.erb:48 - remove trailing whitespace
</span><span class='line'>./app/views/rainbow_seed/top5/index.html.erb:21 - remove trailing whitespace
</span><span class='line'>./app/views/rainbow_seed/users/registrations/new.html.erb:18 - remove trailing whitespace
</span><span class='line'>./app/views/shares/show.html.erb:33 - remove trailing whitespace
</span><span class='line'>./app/models/ckeditor/attachment_file.rb:8 - remove tab, use spaces instead
</span><span class='line'>./app/models/ckeditor/picture.rb:5 - remove tab, use spaces instead
</span><span class='line'>./app/mailers/rainbow_seed/more_green/invitation_cards/card_mailer.rb:8 - remove tab, use spaces instead
</span><span class='line'>./app/controllers/rainbow_seed/more_green_controller.rb:19 - remove tab, use spaces instead
</span><span class='line'>./app/controllers/rainbow_seed/top5_controller.rb:9 - remove tab, use spaces instead
</span><span class='line'>./config/environments/development.rb:40 - remove tab, use spaces instead
</span><span class='line'>./db/migrate/20120307173052_create_ckeditor_assets.rb:9 - remove tab, use spaces instead
</span><span class='line'>./app/views/layouts/application.html.erb:14 - remove tab, use spaces instead
</span><span class='line'>./app/views/layouts/more_green.html.erb:6 - remove tab, use spaces instead
</span><span class='line'>./app/views/layouts/rainbow_seed.html.erb:45 - remove tab, use spaces instead
</span><span class='line'>./app/views/pocket_snapper/registrations/new.html.erb:7 - remove tab, use spaces instead
</span><span class='line'>./app/views/pocket_snapper/users/passwords/new.html.erb:20 - remove tab, use spaces instead
</span><span class='line'>./app/views/pocket_snapper/users/registrations/new.html.erb:8 - remove tab, use spaces instead
</span><span class='line'>./app/views/rainbow_seed/home/index.html.erb:78 - remove tab, use spaces instead
</span><span class='line'>./app/views/rainbow_seed/home/mobile.html.erb:4 - remove tab, use spaces instead
</span><span class='line'>./app/views/rainbow_seed/more_green/green_tips.html.erb:18 - remove tab, use spaces instead
</span><span class='line'>./app/views/rainbow_seed/more_green/invitation_cards/card_mailer/content.html.erb:13 - remove tab, use spaces instead
</span><span class='line'>./app/views/rainbow_seed/more_green/show_invitation_cards_info_form.html.erb:7 - remove tab, use spaces instead
</span><span class='line'>./app/views/rainbow_seed/news/_news_item.html.erb:3 - remove tab, use spaces instead
</span><span class='line'>./app/views/rainbow_seed/shares/_form.html.erb:22 - remove tab, use spaces instead
</span><span class='line'>./app/views/rainbow_seed/shares/index.html.erb:6 - remove tab, use spaces instead
</span><span class='line'>./app/views/rainbow_seed/top5/get_top.html.erb:16 - remove tab, use spaces instead
</span><span class='line'>./app/views/rainbow_seed/top5/index.html.erb:4 - remove tab, use spaces instead
</span><span class='line'>./app/views/shares/_comments_list.html.erb:4 - remove tab, use spaces instead
</span><span class='line'>./app/views/shares/_form.html.erb:23 - remove tab, use spaces instead
</span><span class='line'>./app/views/users/forget_password.html.erb:3 - remove tab, use spaces instead</span></code></pre></td></tr></table></div></figure>


<p>拿第一個問題點來說，原本我的code是</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>  <span class="n">like</span> <span class="o">=</span> <span class="n">current_rainbow_seed_user</span><span class="o">.</span><span class="n">likes</span><span class="o">.</span><span class="n">build</span>
</span><span class='line'>  <span class="n">like</span><span class="o">.</span><span class="n">share_id</span> <span class="o">=</span> <span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span>
</span><span class='line'>  <span class="n">like</span><span class="o">.</span><span class="n">save</span>
</span></code></pre></td></tr></table></div></figure>


<p>解法在: <a href="http://rails-bestpractices.com/posts/2-use-model-association">http://rails-bestpractices.com/posts/2-use-model-association</a>
因此調整為</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>  <span class="n">like</span> <span class="o">=</span> <span class="n">current_rainbow_seed_user</span><span class="o">.</span><span class="n">likes</span><span class="o">.</span><span class="n">build</span><span class="p">({</span><span class="n">share_id</span><span class="p">:</span> <span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">].</span><span class="n">to_i</span><span class="p">})</span>
</span><span class='line'>  <span class="n">like</span><span class="o">.</span><span class="n">save</span>
</span></code></pre></td></tr></table></div></figure>


<p>就可以了</p>

<p>在<a href="http://rails-bestpractices.com">http://rails-bestpractices.com</a>中搜尋一下就可以找到相關的範例解法
感謝<code>ihower</code>大大的<code>model association</code>啊XD!!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Paperclip 上傳驗證]]></title>
    <link href="http://hechien.github.com/octopress/blog/paperclip-shang-chuan-yan-zheng/"/>
    <updated>2012-03-23T11:44:00+08:00</updated>
    <id>http://hechien.github.com/octopress/blog/paperclip-shang-chuan-yan-zheng</id>
    <content type="html"><![CDATA[<p>因為一些原因，需要驗證使用者是否有上傳照片，若有上傳照片才需要驗證檔案大小、檔案格式</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># model.rb</span>
</span><span class='line'>
</span><span class='line'><span class="n">validates_attachment_size</span> <span class="ss">:avatar</span><span class="p">,</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">less_than</span><span class="p">:</span> <span class="mi">300</span><span class="o">.</span><span class="n">kilobytes</span><span class="p">,</span> <span class="k">if</span><span class="p">:</span> <span class="no">Proc</span><span class="o">.</span><span class="n">new</span><span class="p">{</span><span class="o">|</span><span class="n">imports</span><span class="o">|</span> <span class="n">imports</span><span class="o">.</span><span class="n">avatar</span><span class="o">.</span><span class="n">uploaded_file</span><span class="o">.</span><span class="n">present?</span><span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">validates_attachment_content_type</span> <span class="ss">:avatar</span><span class="p">,</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">content_type</span><span class="p">:</span> <span class="o">[</span><span class="s2">&quot;image/png&quot;</span><span class="p">,</span> <span class="s2">&quot;image/jpeg&quot;</span><span class="p">,</span> <span class="s2">&quot;image/jpg&quot;</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'>  <span class="k">if</span><span class="p">:</span> <span class="no">Proc</span><span class="o">.</span><span class="n">new</span><span class="p">{</span><span class="o">|</span><span class="n">imports</span><span class="o">|</span> <span class="n">imports</span><span class="o">.</span><span class="n">avatar</span><span class="o">.</span><span class="n">uploaded_file</span><span class="o">.</span><span class="n">present?</span><span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[compass-rails + anjlab-bootstrap-rails發生的小問題]]></title>
    <link href="http://hechien.github.com/octopress/blog/compass-rails-plus-anjlab-bootstrap-railsfa-sheng-de-xiao-wen-ti/"/>
    <updated>2012-03-13T11:28:00+08:00</updated>
    <id>http://hechien.github.com/octopress/blog/compass-rails-plus-anjlab-bootstrap-railsfa-sheng-de-xiao-wen-ti</id>
    <content type="html"><![CDATA[<h1>事情發生經過</h1>

<p>那時跟著 <a href="http://railscasts.com/episodes/328-twitter-bootstrap-basics?view=asciicast">http://railscasts.com/episodes/328-twitter-bootstrap-basics?view=asciicast</a> 剛用Bootstrap建構好網站的頁面，也加上了navigation bar (就是上面黑黑的那條)，根據指示加上 <code>bootstrap_and_overrides.css</code>這支檔案用以讓<code>padding-top</code>可以從預設的<code>40px</code>改為<code>60px</code>，可是裝上<code>compass-rails</code>之後，我的世界開始變了樣 &#8230; (誤)
後來直接在<code>application.html.erb</code>內的<code>head</code>區塊中加上以下程式碼</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='css'><span class='line'><span class="nt">body</span><span class="p">{</span>
</span><span class='line'>  <span class="k">padding-top</span><span class="o">:</span> <span class="m">60px</span><span class="p">;</span>
</span><span class='line'>  <span class="k">padding-bottom</span><span class="o">:</span> <span class="m">40px</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>嗯，打完收工，一切搞定，萬事OK</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[透過gem手動安裝anjlab的twitter bootstrap]]></title>
    <link href="http://hechien.github.com/octopress/blog/tou-guo-gemshou-dong-an-zhuang-anjlabde-twitter-bootstrap/"/>
    <updated>2012-03-13T11:24:00+08:00</updated>
    <id>http://hechien.github.com/octopress/blog/tou-guo-gemshou-dong-an-zhuang-anjlabde-twitter-bootstrap</id>
    <content type="html"><![CDATA[<p>因為一些原因要手動自己裝anjlab的anjlab-bootstrap-rails，所以特此記錄一下 &#8230;</p>

<p>先Clone下來</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git clone git://github.com/anjlab/bootstrap-rails.git</span></code></pre></td></tr></table></div></figure>


<p>再進去該目錄後執行</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd bootstrap-rails
</span><span class='line'>rake install</span></code></pre></td></tr></table></div></figure>


<p>打完收工</p>
]]></content>
  </entry>
  
</feed>
